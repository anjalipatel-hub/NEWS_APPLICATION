<ngx-loading-bar [includeSpinner]="false" [height]="'5px'" [color]="'#0d6efd'"></ngx-loading-bar>

<nav class="navbar navbar-expand-lg bg-body-tertiary py-2" style="background-color: #f8f9fa;">
  <div class="container-fluid d-flex align-items-center justify-content-between">
    <a class="navbar-brand" routerLink="" style="font-weight: bold; font-size: 20px;">News</a>
    <div class="d-flex align-items-center flex-wrap">

      <!-- Country Dropdown -->
      <div class="nav-item me-3" style="height: 60px;">
        <mat-form-field appearance="outline" class="w-100" style="width: 120px;">
          <mat-label>Country</mat-label>
          <mat-select>
            <mat-option value="in" [routerLink]="['/']" [queryParams]="{ country: 'in' }">India</mat-option>
            <mat-option value="br" [routerLink]="['/']" [queryParams]="{ country: 'br' }">Brazil</mat-option>
            <mat-option value="jp" [routerLink]="['/']" [queryParams]="{ country: 'jp' }">Japan</mat-option>
            <mat-option value="nz" [routerLink]="['/']" [queryParams]="{ country: 'nz' }">New Zealand</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- From Date Picker -->
      <div class="nav-item me-3" style="height: 60px;">
        <mat-form-field appearance="outline" style="width: 140px; height: 100%;">
          <mat-label>From Date</mat-label>
          <input matInput [(ngModel)]="fromDate" [matDatepicker]="fromPicker" placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="fromPicker"></mat-datepicker-toggle>
          <mat-datepicker #fromPicker></mat-datepicker>
        </mat-form-field>
      </div>

      <!-- To Date Picker -->
      <div class="nav-item me-2" style="height: 60px;">
        <mat-form-field appearance="outline" style="width: 140px; height: 100%;">
          <mat-label>To Date</mat-label>
          <input matInput [(ngModel)]="toDate" [matDatepicker]="toPicker" placeholder="Choose a date">
          <mat-datepicker-toggle matSuffix [for]="toPicker"></mat-datepicker-toggle>
          <mat-datepicker #toPicker></mat-datepicker>
        </mat-form-field>
      </div>

      <!-- Filter by Date Button -->
      <div class="nav-item me-2" style="height: 60px;">
        <button mat-stroked-button color="primary" [routerLink]="['/']" [queryParams]="{ from: fromDate | date:'yyyy-MM-dd', to: toDate | date:'yyyy-MM-dd' }" style="height: 100%;">
          Filter by Date
        </button>
      </div>

      <!-- Search Form -->
      <div class="nav-item me-2" style="height: 60px;">
        <form class="d-flex align-items-center" role="search" style="height: 100%;">
          <mat-form-field appearance="outline" class="me-2" style="width: 180px; height: 100%;">
            <input matInput class="form-control" type="search" placeholder="Search" aria-label="Search" [(ngModel)]="searchQuery" name="searchQuery">
          </mat-form-field>
          <button mat-stroked-button color="accent" type="submit" [routerLink]="['/']" [queryParams]="{ search: searchQuery }" style="height: 90%;">
            Search
          </button>
        </form>
      </div>
    </div>
  </div>
</nav>

<router-outlet></router-outlet>

<footer class="py-2" style="background-color: #f8f9fa;">
  <p class="text-center" style="font-weight: bold; font-size: 14px;">&copy; & &reg; by TC NEWS 2024</p>
</footer>
